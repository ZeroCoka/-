<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Love & Deepspace 경험치 계산기</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      padding: 20px;
      background: #f0f4f8;
    }
    h1 {
      text-align: center;
      color: #003366;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.1);
    }
    label, select, input {
      display: block;
      margin: 12px 0;
      font-size: 16px;
    }
    button {
      padding: 10px 20px;
      background: #0077cc;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-right: 10px;
      font-size: 16px;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #005fa3;
    }
    .results {
      margin-top: 20px;
      background: #e8f0fe;
      padding: 15px;
      border-radius: 10px;
      font-size: 15px;
      color: #003366;
    }
    ul {
      padding-left: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Love & Deepspace 경험치 계산기</h1>
    <label>현재 레벨: <input type="number" id="currentLevel" min="1" max="80" /></label>
    <label>목표 레벨: <input type="number" id="targetLevel" min="1" max="80" /></label>
    <label>카드 등급:
      <select id="cardGrade">
        <option value="5">5성</option>
        <option value="4">4성</option>
        <option value="3">3성</option>
      </select>
    </label>
    <label><input type="checkbox" id="useSSR" /> SSR 소원병병 포함</label>
    <button onclick="calculate()">계산하기</button>

    <div class="results" id="results"></div>
  </div>

  <script>
    const expTables = {
      5: [ [1, 10, 1710], [11, 20, 2850], [21, 30, 4680], [31, 40, 9380], [41, 50, 18760], [51, 60, 37500], [61, 70, 75000], [71, 80, 150050] ],
      4: [ [1, 10, 1320], [11, 20, 2200], [21, 30, 3740], [31, 40, 7480], [41, 50, 14960], [51, 60, 29920], [61, 70, 59880], [71, 80, 119760] ],
      3: [ [1, 10, 960], [11, 20, 1600], [21, 30, 2720], [31, 40, 5440], [41, 50, 10880], [51, 60, 21760], [61, 70, 43520], [71, 80, 87040] ]
    };

    const awakenTables = {
      5: {
        10: { N: 40, R: 15, SR: 0, gold: 15000 }, 20: { N: 80, R: 25, SR: 0, gold: 25000 },
        30: { N: 160, R: 50, SR: 0, gold: 50000 }, 40: { N: 320, R: 100, SR: 0, gold: 80000 },
        50: { N: 640, R: 200, SR: 60, gold: 120000 }, 60: { N: 800, R: 300, SR: 90, gold: 160000 },
        70: { N: 1000, R: 400, SR: 120, gold: 200000 }, 80: { N: 1200, R: 480, SR: 180, gold: 250000 }
      },
      4: {
        10: { N: 30, R: 10, SR: 0, gold: 10000 }, 20: { N: 60, R: 20, SR: 0, gold: 15000 },
        30: { N: 120화 파밍 횟수 계산
      let awakenRuns = Math.ceil(Math.max(
        awakenN / awakenDrop.N,
        awakenR / awakenDrop.R,
        awakenSR / awakenDrop.SR
      ));

      const levelUpGold = (target - current) * goldPerLevel;
      const totalGold = levelUpGold + awakenGold;

      const html = `
        <h3>총 필요 경험치: ${totalExp.toLocaleString()}</h3>
        <ul>
          <li>SSR 아이템
